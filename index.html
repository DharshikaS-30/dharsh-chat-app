<!DOCTYPE html>
<html>
<head>
  <title>Dharsh Chat App</title>
  <style>
    body { font-family: Arial; background:#f2f2f2; }
    #chat { width: 400px; margin: 50px auto; background: white; padding: 20px; border-radius: 8px; }
    #messages { height: 200px; overflow-y: auto; border:1px solid #ccc; margin-bottom:10px; padding:5px; }
    input, button { width:100%; padding:8px; margin-top:5px; }
    button { background:#007bff; color:white; border:none; cursor:pointer; }
  </style>
</head>
<body>

<div id="chat">
  <h2>Dharsh Chat App</h2>
  <div id="messages"></div>
  <input id="name" placeholder="Enter your name" />
  <input id="text" placeholder="Type your message..." />
  <button onclick="sendMessage()">Send</button>
</div>

<!-- ðŸ”¥ Firebase v8 COMPAT SDKs (NO import, NO module) -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<script>
  // ðŸ”¹ Your Firebase config
  var firebaseConfig = {
    apiKey: "AIzaSyALPAc3KbE2YXziZ0fi1CEC9p2Skv2mZb0",
    authDomain: "chat-app-bf824.firebaseapp.com",
    projectId: "chat-app-bf824",
    storageBucket: "chat-app-bf824.firebasestorage.app",
    messagingSenderId: "361342519986",
    appId: "1:361342519986:web:50147ee6e5ae08158857ab"
  };

  // ðŸ”¹ Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  var db = firebase.firestore();

  var messagesDiv = document.getElementById("messages");

  // ðŸ”¹ Load messages in real time
  db.collection("messages").orderBy("time")
    .onSnapshot(function(snapshot) {
      messagesDiv.innerHTML = "";
      snapshot.forEach(function(doc) {
        var d = doc.data();
        messagesDiv.innerHTML += "<p><b>" + d.name + ":</b> " + d.text + "</p>";
      });
      messagesDiv.scrollTop = messagesDiv.scrollHeight;
    });

  // ðŸ”¹ Send message function
  function sendMessage() {
    var name = document.getElementById("name").value || "Anonymous";
    var text = document.getElementById("text").value;

    if (text.trim() === "") return;

    db.collection("messages").add({
      name: name,
      text: text,
      time: firebase.firestore.FieldValue.serverTimestamp()
    });

    document.getElementById("text").value = "";
  }
</script>

</body>
</html>
